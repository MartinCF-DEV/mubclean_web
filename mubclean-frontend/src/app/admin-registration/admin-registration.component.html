<div class="registration-container">
    <!-- Header -->
    <header class="app-bar">
        <div class="brand">
            <span class="material-icons brand-icon">clean_hands</span>
            <h1>MubClean</h1>
        </div>
        <div *ngIf="currentStep === 2" class="step-indicator">Paso 2 de 2</div>
    </header>

    <div class="content-wrapper">
        <!-- STEP 1: ACCOUNT -->
        <div class="card" *ngIf="currentStep === 1">
            <div class="card-header">
                <div class="icon-circle">
                    <span class="material-icons">person</span>
                </div>
                <h2>Crea tu Cuenta</h2>
                <p>Comienza a digitalizar tu negocio hoy mismo.</p>
            </div>

            <form [formGroup]="accountForm" (ngSubmit)="onStep1Submit()">
                <div class="form-group">
                    <input type="email" formControlName="email" placeholder="Correo Electrónico">
                </div>
                <div class="form-group">
                    <input type="password" formControlName="password" placeholder="Contraseña">
                </div>
                <div class="form-group">
                    <input type="password" formControlName="confirmPassword" placeholder="Confirmar Contraseña">
                </div>

                <button type="submit" class="submit-btn" [disabled]="isLoading || accountForm.invalid">
                    {{ isLoading ? 'Creando...' : 'Crear Cuenta' }}
                </button>
            </form>

            <p class="terms">Al continuar, aceptas nuestros términos y condiciones.</p>
        </div>

        <!-- STEP 2: BUSINESS INFO -->
        <div class="card" *ngIf="currentStep === 2">
            <div class="card-header">
                <div class="icon-circle blue">
                    <span class="material-icons">store_mall_directory</span>
                </div>
                <h2>Información del Negocio</h2>
                <p>Ya casi terminamos. Configura el perfil de tu empresa.</p>
            </div>

            <form [formGroup]="businessForm" (ngSubmit)="onStep2Submit()">
                <div class="form-group">
                    <input type="text" formControlName="nombre" placeholder="Nombre del Negocio">
                </div>
                <div class="form-group">
                    <input type="text" formControlName="direccion" placeholder="Dirección">
                </div>
                <div class="row">
                    <div class="form-group half">
                        <input type="tel" formControlName="telefono" placeholder="Teléfono">
                    </div>
                    <div class="form-group half">
                        <input type="email" formControlName="emailContacto" placeholder="Email de Contacto">
                    </div>
                </div>
                <div class="form-group">
                    <textarea formControlName="descripcion" placeholder="Descripción" rows="3"></textarea>
                </div>

                <!-- Payment Summary (Verified) -->
                <div class="payment-verified-box"
                    style="background: #eff6ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #bfdbfe; display: flex; align-items: center;">
                    <span class="material-icons" style="color: #2563eb; margin-right: 10px;">verified</span>
                    <div>
                        <p style="margin: 0; font-size: 0.8rem; color: #1e40af; font-weight: 700;">PAGO EXITOSO</p>
                        <p style="margin: 0; font-size: 0.9rem; color: #1e3a8a;">{{ planName }} (${{ planPrice }})</p>
                    </div>
                </div>

                <button type="submit" class="submit-btn" [disabled]="isLoading || businessForm.invalid">
                    {{ isLoading ? 'Activando...' : 'Finalizar y Activar Cuenta' }}
                </button>
            </form>
        </div>
    </div>
</div>