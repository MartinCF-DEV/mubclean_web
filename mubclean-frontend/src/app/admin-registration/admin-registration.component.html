<div class="registration-container">
    <!-- Header -->
    <header class="app-bar">
        <div class="brand">
            <span class="material-icons brand-icon">clean_hands</span>
            <h1>MubClean</h1>
        </div>
        <div *ngIf="currentStep === 2" class="step-indicator">Paso 2 de 2</div>
    </header>

    <div class="content-wrapper">
        <!-- STEP 1: ACCOUNT -->
        <div class="card" *ngIf="currentStep === 1">
            <button (click)="testConnection()"
                style="background: red; color: white; padding: 10px; margin-bottom: 20px; width: 100%;">
                HOLA - TEST CONNECTION (CLICK ME)
            </button>
            <div class="card-header">
                <div class="icon-circle">
                    <span class="material-icons">person</span>
                </div>
                <h2>Crea tu Cuenta</h2>
                <p>Comienza a digitalizar tu negocio hoy mismo.</p>
            </div>

            <form [formGroup]="accountForm" (ngSubmit)="onStep1Submit()">
                <div class="form-group">
                    <input type="email" formControlName="email" placeholder="Correo Electrónico">
                </div>
                <div class="form-group">
                    <input type="password" formControlName="password" placeholder="Contraseña">
                </div>
                <div class="form-group">
                    <input type="password" formControlName="confirmPassword" placeholder="Confirmar Contraseña">
                </div>

                <button type="submit" class="submit-btn" [disabled]="isLoading || accountForm.invalid">
                    {{ isLoading ? 'Creando...' : 'Crear Cuenta' }}
                </button>
            </form>

            <p class="terms">Al continuar, aceptas nuestros términos y condiciones.</p>
        </div>

        <!-- STEP 2: BUSINESS INFO -->
        <div class="card" *ngIf="currentStep === 2">
            <div class="card-header">
                <div class="icon-circle blue">
                    <span class="material-icons">store_mall_directory</span>
                </div>
                <h2>Información del Negocio</h2>
                <p>Ya casi terminamos. Configura el perfil de tu empresa.</p>
            </div>

            <form [formGroup]="businessForm" (ngSubmit)="onStep2Submit()">
                <div class="form-group">
                    <input type="text" formControlName="nombre" placeholder="Nombre del Negocio">
                </div>
                <div class="form-group">
                    <input type="text" formControlName="direccion" placeholder="Dirección">
                </div>
                <div class="row">
                    <div class="form-group half">
                        <input type="tel" formControlName="telefono" placeholder="Teléfono">
                    </div>
                    <div class="form-group half">
                        <input type="email" formControlName="emailContacto" placeholder="Email de Contacto">
                    </div>
                </div>
                <div class="form-group">
                    <textarea formControlName="descripcion" placeholder="Descripción" rows="3"></textarea>
                </div>

                <button type="submit" class="submit-btn" [disabled]="isLoading || businessForm.invalid">
                    {{ isLoading ? 'Guardando...' : 'Finalizar Registro' }}
                </button>
            </form>
        </div>
    </div>
</div>